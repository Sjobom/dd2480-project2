apply plugin: "java"

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.eclipse.jetty', name: 'jetty-server', version: '9.4.8.v20171121'
    compile group: 'org.eclipse.jgit', name: 'org.eclipse.jgit', version: '4.10.0.201712302008-r'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

ext {
    mainClass = "ciserver.ContinuousIntegrationServer"
}

def genericTask = {
    classpath               = sourceSets.main.runtimeClasspath
    standardInput   = System.in

}

task run(type: JavaExec) {
    configure genericTask
    main = mainClass
}